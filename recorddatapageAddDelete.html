<!DOCTYPE html>
<html>
<head>

 <title>Truii Record Page</title>
 <link rel="stylesheet" href="css/bootstrap.min.css">
 <link rel="stylesheet" href="css/bootstrap-theme.min.css">
 <link rel="stylesheet" href="css/style.css">
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
 <script>
    var columnNumber = 1;
   function addField(){
     columnNumber += 1;
     var i = columnNumber;
     var number = '#Column' + i;
     var div = "<div class=\"container\" id=\"Column" + i + "\" style=\"margin-right: 10%;margin-left: -10px;margin-top:10px;display:none;\">";
     div += "<fieldset clase=\"form-box\" id=\"Box" + i + "\" style=\"border: 2px black dashed; border-radius: 25px;\">";
     div += "<legend style=\"width: auto; height: auto; margin-bottom: 5px; margin-left: 6%;\"><b>Column " + i + "</b></legend>";
     div += "<button type=\"button\" onClick=\"deleteField("+ i +")\"class=\"btn btn-primary\" id=\"DeleteColumn"+ i +"\" style=\"float: right; margin-top: -22px; margin-right: -2px;\">X</button>";
     div += "<label for=\"exampletextinput\" style=\"margin-left: 4%; margin-right: 4%; margin-top -5%\">Column Title </label>";
     div += "<input onkeyup=\"gainvalue(" + i + ")\" type=\"text\" name=\"ColumnTitle" + i + "\" class=\"form-control\" id=\"textinput" + i + "\" style=\"width: 92%; margin-left: 4%; margin-right: 4%;\" aria-describedby=\"tablename\" placeholder=\"Enter Title\" value=\"\" required></br>";
     div += "<div class=\"form-group\" style=\"margin-bottom: 2%;\"><label for=\"exampleSelect1\" style=\"margin-left: 4%; margin-right: 4%;\">Unit of Measurement</label>";
     div += "<select name=\"ColumnType" + i + "\" class=\"form-control\" id=\"selectinput" + i + "\" style=\"width: 92%; margin-left: 4%; margin-right: 4%;\">";
     div += "<option value=\"VARCHAR(255)\">Text</option><option value=\"numbers\"># Numbers</option><option value=\"percentage\">% Percentage</option></select></div></fieldset>";
     div += "</div>";
     $('#divColumn').append(div);
     $(number).animate({height: 'toggle', display:'block'}, 500);
     columnText.push();
     alert('ColumnValue size: ' + columnText.length);
   }
   function deleteField(column){
     var mess = '#Column' + column;
     //columnNumber -= 1;
     document.getElementById("Column" + column).required = false;
     $(mess).animate({display:'none', height: 'toggle'}, 500);
   }
   function ResetValue(){
     columnNumber = 1;
     columnText = [];
   }

   function gainvalue(column){
     var columns = "textinput" + column;
     columnText[column] = document.getElementById(columns).value;
   }

 </script>
</head>

<form method=POST>
  <div id ="recordform">
    <div class= "container1" id="divCreate">
      <div class="form-group" style="margin-right: 10%">
        <label for="exampletextinput">Title </label>
        <input type="text" name="title" class="form-control" id="xampletextinput" aria-describedby="tablename" placeholder="Enter Title" value="" required>
      </div>
    </div>

    <div class="form-group" id="divColumn" style='margin-top:10px;'>
      <input type="hidden" name="firstofColumn" id="firstofColumn" value=1>
      <input type="hidden" name="numofColumn" id="numofColumn" value=0>
      <div class="container" id="Column1" style="margin-right: 10%; margin-left: -10px">
        <fieldset clase="form-box" id="Box1" style="border: 2px black dashed; border-radius: 25px;">
          <legend style="width: auto; height: auto; margin-bottom: 5px; margin-left: 6%;"><b>Column1 </b></legend>
          <label for="exampletextinput" style="margin-left: 4%; margin-right: 4%; margin-top -5%">Column Title </label>
          <input type="text" onkeyup="gainvalue(1)" name="ColumnTitle1" class="form-control" id="textinput1" style="width: 92%; margin-left: 4%; margin-right: 4%;" aria-describedby="tablename" placeholder="Enter Title" required></br>
          <div class="form-group" style="margin-bottom: 2%;"><label for="exampleSelect1" style="margin-left: 4%; margin-right: 4%;">Unit of Measurement</label>
            <select name="ColumnType1" class="form-control" id="selectinput1" style="width: 92%; margin-left: 4%; margin-right: 4%;">
              <option value="VARCHAR(255)">Text</option>
              <option value="numbers"># Numbers</option>
              <option value="percentage">% Percentage</option>
                </select></div></fieldset>
            </div>
          </div>
          <button type="button" class="btn btn-primary" onClick="addField();" style="margin-top: 1%; margin-left: 6%;">Add Column</button>
    <div class="form-group" id="divButtons" style = "margin-top: 10px;">
      <button type="button" class="btn btn-primary" id="btn_ResetColumn">Reset Column</button>
      <button type="submit" class="btn btn-primary" name="create_table">Submit</button>
    </div>
  </div>
</form>
